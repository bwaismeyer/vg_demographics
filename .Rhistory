load("C:/Projects/vg_demographics/raw_app_data.rda")
list_to_df <- function(target) {
values <- list(
"type" = target[["type"]],
"name" = target[["name"]],
"steam_appid" = target[["steam_appid"]],
"required_age" = target[["required_age"]],
"is_free" = target[["is_free"]],
"detailed_description" = target[["detailed_description"]],
"about_the_game" = target[["about_the_game"]],
"website" = target[["website"]],
"developers" = paste(target[["developers"]],
collapse = "---"),
"publishers" = paste(target[["publishers"]],
collapse = "---"),
"price_currency" = target[["price_overview"]][["currency"]],
"price_initial" = target[["price_overview"]][["initial"]],
"price_final" = target[["price_overview"]][["final"]],
"platform_windows" = target[["platforms"]][["windows"]],
"platform_mac" = target[["platforms"]][["mac"]],
"platform_linux" = target[["platforms"]][["linux"]],
"metacritic_score" = target[["metacritic"]][["score"]],
"metacritic_url" =  target[["metacritic"]][["url"]],
"recommendations" = target[["recommendations"]][["total"]],
"achievements" = target[["achievements"]][["total"]],
"release_date" = target[["release_date"]][["date"]],
"categories" = paste(target[["categories"]][["description"]],
collapse = "---"),
"genres" = paste(target[["genres"]][["description"]],
collapse = "---")
)
values <- data.frame(do.call(cbind, values), stringsAsFactors = FALSE)
return(values)
}
raw_to_df <- function(raw_app_data) {
df_collection <- lapply(raw_app_data, function(x) list_to_df(x$data))
df <- dplyr::rbind_all(df_collection)
return(df)
}
vg_df <- raw_to_df(raw_app_data)
head(sort(table(vg_df$genres), decreasing = TRUE), 20)
app_df <- raw_to_df(raw_app_data)
rm(vg_df)
.7*.4
.7+.4
1.1 - .28
load("C:/Projects/vg_demographics/raw_app_data.rda")
list_to_df <- function(target) {
values <- list(
"type" = target[["type"]],
"name" = target[["name"]],
"steam_appid" = target[["steam_appid"]],
"required_age" = target[["required_age"]],
"is_free" = target[["is_free"]],
"detailed_description" = target[["detailed_description"]],
"about_the_game" = target[["about_the_game"]],
"website" = target[["website"]],
"developers" = paste(target[["developers"]],
collapse = "---"),
"publishers" = paste(target[["publishers"]],
collapse = "---"),
"price_currency" = target[["price_overview"]][["currency"]],
"price_initial" = target[["price_overview"]][["initial"]],
"price_final" = target[["price_overview"]][["final"]],
"platform_windows" = target[["platforms"]][["windows"]],
"platform_mac" = target[["platforms"]][["mac"]],
"platform_linux" = target[["platforms"]][["linux"]],
"metacritic_score" = target[["metacritic"]][["score"]],
"metacritic_url" =  target[["metacritic"]][["url"]],
"recommendations" = target[["recommendations"]][["total"]],
"achievements" = target[["achievements"]][["total"]],
"release_date" = target[["release_date"]][["date"]],
"categories" = paste(target[["categories"]][["description"]],
collapse = "---"),
"genres" = paste(target[["genres"]][["description"]],
collapse = "---")
)
values <- data.frame(do.call(cbind, values), stringsAsFactors = FALSE)
return(values)
}
raw_to_df <- function(raw_app_data) {
df_collection <- lapply(raw_app_data, function(x) list_to_df(x$data))
df <- dplyr::rbind_all(df_collection)
return(df)
}
app_df <- raw_to_df(raw_app_data)
library(stringr)
?str_slit
?str_split
split_value <- function(value, split_by) {
value_vector <- str_split(value, split_by)
return(value_vector)
}
split_column <- function(column, split_by) {
collected_splits <- c()
for(i in 1:length(column) {
current_value <- column[i]
value_vector <- str_split(current_value, split_by)
collected_splits <- c(collected_splits, value_vector)
}
return(collected_splits)
}
split_column <- function(column, split_by) {
collected_splits <- c()
for(i in 1:length(column) {
current_value <- column[i]
value_vector <- str_split(current_value, split_by)
collected_splits <- c(collected_splits, value_vector)
}
return(collected_splits)
}
split_column <- function(column, split_by) {
collected_splits <- c()
for(i in 1:length(column)) {
current_value <- column[i]
value_vector <- str_split(current_value, split_by)
collected_splits <- c(collected_splits, value_vector)
}
return(collected_splits)
}
lg <- head(big_test)
lg <- head(app_df)
lg
test <- split_column(app_df$categories)
test <- split_column(app_df$categories, "--")
str(app_df)
str(lg)
test <- split_column(app_df$categories, "--")
test <- split_column(lg$categories, "--")
test
lg$categories[1]
lg$categories[[1]]
test <- split_column(lg$categories, "---")
test
split_column <- function(column, split_by) {
browser()
collected_splits <- c()
for(i in 1:length(column)) {
current_value <- column[i]
value_vector <- str_split(current_value, split_by)
collected_splits <- c(collected_splits, value_vector)
}
return(collected_splits)
}
test <- split_column(lg$categories, "---")
value_vector
unlist(value_vector)
split_column <- function(column, split_by) {
collected_splits <- c()
for(i in 1:length(column)) {
current_value <- column[i]
value_vector <- unlist(str_split(current_value, split_by))
collected_splits <- c(collected_splits, value_vector)
}
return(collected_splits)
}
test <- split_column(lg$categories, "---")
test
